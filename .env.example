# =============================================================================
# Axion Trading Platform — Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# All AXION_* variables are consumed by the application.
# Non-prefixed variables are used by Docker Compose services.
# =============================================================================

# ---------------------------------------------------------------------------
# Database (PostgreSQL + TimescaleDB)
# ---------------------------------------------------------------------------

# Async connection string used by SQLAlchemy async engine (asyncpg driver)
AXION_DATABASE_URL=postgresql+asyncpg://axion:axion_dev@localhost:5432/axion

# Sync connection string used by Alembic migrations and sync queries (psycopg2 driver)
AXION_DATABASE_SYNC_URL=postgresql+psycopg2://axion:axion_dev@localhost:5432/axion

# PostgreSQL container settings
POSTGRES_DB=axion
POSTGRES_USER=axion
POSTGRES_PASSWORD=axion_dev

# Host port mapping for PostgreSQL (change to avoid conflicts with local PG)
POSTGRES_PORT=5432

# ---------------------------------------------------------------------------
# Redis
# ---------------------------------------------------------------------------

# Redis connection string used by the application for caching and pub/sub
AXION_REDIS_URL=redis://localhost:6379/0

# Host port mapping for Redis
REDIS_PORT=6379

# ---------------------------------------------------------------------------
# API Keys — External Data Providers
# ---------------------------------------------------------------------------

# Polygon.io — real-time and historical market data (https://polygon.io)
AXION_POLYGON_API_KEY=

# FRED — Federal Reserve Economic Data (https://fred.stlouisfed.org/docs/api/api_key.html — free)
AXION_FRED_API_KEY=

# Anthropic Claude API — AI copilot and research features
ANTHROPIC_API_KEY=

# ---------------------------------------------------------------------------
# Feature Flags
# ---------------------------------------------------------------------------

# Enable PostgreSQL persistence (set true once database is provisioned)
AXION_USE_DATABASE=false

# Enable Redis caching layer
AXION_USE_REDIS=true

# Fall back to Yahoo Finance when Polygon key is missing or quota exceeded
AXION_FALLBACK_TO_YFINANCE=true

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
AXION_LOG_LEVEL=INFO

# Log format: text (human-readable) or json (structured, for log aggregators)
AXION_LOG_FORMAT=text

# ---------------------------------------------------------------------------
# Security
# ---------------------------------------------------------------------------

# Secret key for JWT token signing and session encryption (generate with: openssl rand -hex 32)
AXION_SECRET_KEY=change-me-in-production

# Encryption key for sensitive data at rest (generate with: openssl rand -hex 32)
AXION_ENCRYPTION_KEY=change-me-in-production

# ---------------------------------------------------------------------------
# API Security
# ---------------------------------------------------------------------------

# Require X-API-Key header on all API endpoints (set true in production)
AXION_REQUIRE_API_KEY=false

# Comma-separated list of allowed CORS origins
AXION_CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# Enable HSTS header (only enable when serving over HTTPS)
AXION_ENABLE_HSTS=false

# ---------------------------------------------------------------------------
# Monitoring Ports (used by docker-compose)
# ---------------------------------------------------------------------------

# Prometheus metrics scraper
PROMETHEUS_PORT=9090

# Grafana dashboards
GRAFANA_PORT=3000
